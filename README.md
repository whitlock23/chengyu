# 成语接龙微信小游戏

## 项目介绍
这是一个多人在线成语接龙微信小游戏，支持创建房间、好友加入、实时对战等功能。

## 功能特性

1. **房间系统**：创建随机6位房间号，支持好友加入
2. **成语接龙**：
   - 随机生成初始成语
   - 支持谐音字接龙
   - 每轮30秒倒计时
   - 已使用成语不可重复
3. **计分系统**：每答对一个成语得1分
4. **实时对战**：轮流作答，超时则游戏结束
5. **成语历史**：游戏结束后可查看所有使用过的成语

## 技术栈

- 微信小游戏开发框架
- JavaScript
- WXML
- WXSS

## 项目结构

```
chengyu-game/
├── pages/                  # 页面目录
│   ├── index/             # 首页（创建/加入房间）
│   │   ├── index.js
│   │   └── index.wxml
│   ├── room/              # 房间页面
│   │   ├── room.js
│   │   └── room.wxml
│   └── game/              # 游戏页面
│       ├── game.js
│       └── game.wxml
├── utils/                 # 工具目录
│   ├── idiom.js           # 成语处理工具
│   └── idiom.txt          # 成语词典
├── app.js                 # 小程序入口文件
├── app.json               # 小程序全局配置
├── app.wxss               # 小程序全局样式
└── project.config.json    # 项目配置文件
```

## 成语词典

成语词典存储在 `utils/idiom.txt` 文件中，每行一个成语，共包含4000+个常用成语。

## 如何运行

1. 克隆或下载项目到本地
2. 打开微信开发者工具
3. 选择「导入项目」
4. 填写项目信息：
   - AppID：使用测试号或自己的AppID
   - 项目名称：成语接龙
   - 项目目录：选择本地项目文件夹
5. 点击「导入」
6. 运行项目

## 游戏规则

1. 创建或加入房间
2. 所有玩家准备就绪后，房主点击「开始游戏」
3. 系统随机生成第一个成语
4. 随机选择一名玩家开始接龙
5. 每个玩家有30秒时间思考和输入成语
6. 成语需以前一个成语的最后一个字开头（支持谐音）
7. 已使用过的成语不可重复使用
8. 答对得1分，答错或超时则游戏结束
9. 游戏结束后可查看最终得分和成语历史

## 开发说明

### 成语处理工具

`utils/idiom.js` 包含了成语的加载、验证、随机获取等功能：

- `loadIdioms()`：加载成语词典
- `isIdiom(idiom)`：检查是否为有效成语
- `getRandomIdiom()`：获取随机成语
- `isHomophonic(char1, char2)`：检查是否谐音
- `isValidChain(lastIdiom, nextIdiom)`：检查接龙是否有效

### 页面逻辑

- **首页**：处理房间创建和加入逻辑
- **房间页**：显示玩家列表，处理准备和开始游戏逻辑
- **游戏页**：核心游戏逻辑，包括倒计时、成语验证、玩家轮换等

## 注意事项

1. 本项目为演示版本，实际部署需要：
   - 接入微信云开发或自己的服务器
   - 实现实时通信功能
   - 完善用户认证和数据存储

2. 谐音字处理目前使用简化的映射表，实际项目中建议使用专业的拼音库

3. 房间系统目前使用本地存储模拟，实际项目中需要服务器支持

## 许可证

MIT